import{r,u as w,a as E,o as k,j as e,l as S,b as P}from"./index-c208d5f4.js";function C(){const[l,p]=r.useState(""),[o,y]=r.useState(""),[c,d]=r.useState(!1),[m,a]=r.useState(""),[u,x]=r.useState(""),[j,f]=r.useState(!1),[h,g]=r.useState(!1),i=w(),n=E();r.useEffect(()=>{var s;(s=n.state)!=null&&s.message&&(x(n.state.message),i(n.pathname,{replace:!0}));const t=k(b=>{b&&b.emailVerified&&i("/dashboard")});return()=>t()},[i,n]);const N=async t=>{t.preventDefault(),d(!0),a(""),f(!1);const s=await S(l,o);s.error&&(s.needsVerification?(f(!0),a(s.error)):s.error.includes("auth/invalid-credential")?a("Invalid email or password. Please check your credentials or register a new account."):s.error.includes("auth/user-not-found")?a("No account found with this email. Please register first."):s.error.includes("auth/wrong-password")?a("Incorrect password. Please try again."):s.error.includes("auth/user-disabled")?a("This account has been disabled. Please contact support."):s.error.includes("auth/too-many-requests")?a("Too many failed login attempts. Please try again later."):a(s.error)),d(!1)},v=async()=>{g(!0),a("");const t=await P();t.error?a(t.error):x("Verification email sent! Please check your inbox."),g(!1)};return e.jsx("div",{className:"fantasy-container py-8",children:e.jsxs("div",{className:"fantasy-card max-w-md mx-auto",children:[e.jsx("h1",{className:"fantasy-title text-center",children:"Login"}),u&&e.jsx("div",{className:"bg-green-900/20 border border-green-600 text-green-200 px-4 py-3 rounded-lg mb-4",children:u}),j&&e.jsx("div",{className:"bg-amber-900/20 border border-amber-600 text-amber-200 px-4 py-3 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-lg",children:"⚠️"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium mb-2",children:"Email Verification Required"}),e.jsx("p",{className:"text-sm mb-3",children:"Please check your email and click the verification link before logging in."}),e.jsx("button",{onClick:v,disabled:h,className:"bg-amber-600 hover:bg-amber-700 text-white px-3 py-1 rounded text-sm font-medium disabled:opacity-50",children:h?"Sending...":"Resend Verification Email"})]})]})}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:l,onChange:t=>p(t.target.value),className:"fantasy-input",autoComplete:"email",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:o,onChange:t=>y(t.target.value),className:"fantasy-input",autoComplete:"current-password",required:!0})]}),m&&e.jsx("div",{className:"bg-red-900/20 border border-red-600 text-red-200 px-4 py-3 rounded-lg",children:m}),e.jsx("button",{type:"submit",disabled:c,className:"fantasy-button w-full",children:c?"Logging in...":"Login"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-300",children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>i("/register"),className:"text-amber-400 hover:text-amber-300 font-medium",children:"Register here"})]})})]})})}export{C as default};
