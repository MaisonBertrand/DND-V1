import{r as t,u as b,t as j,j as e,L as v,c as N}from"./index-c208d5f4.js";function P(){const[i,u]=t.useState(""),[r,d]=t.useState(""),[n,x]=t.useState(""),[l,h]=t.useState(""),[o,a]=t.useState(""),[c,f]=t.useState(""),g=b();t.useEffect(()=>{j()},[]);const p=async s=>{if(s.preventDefault(),a(""),f(""),n!==l){a("Passwords do not match");return}if(!r.trim()){a("Username is required");return}if(r.length<3){a("Username must be at least 3 characters long");return}if(!/^[a-zA-Z0-9_]+$/.test(r)){a("Username can only contain letters, numbers, and underscores");return}const{user:w,error:m,success:y}=await N(i,n,r);if(m){a(m);return}y&&g("/login",{state:{message:"Registration successful! Please check your email and click the verification link before logging in. If you don't see the email, check your spam folder."}})};return e.jsx("div",{className:"fantasy-container min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"fantasy-card w-full max-w-md",children:[e.jsx("h2",{className:"fantasy-title text-center",children:"Begin Your Adventure"}),o&&e.jsx("div",{className:"bg-red-900/20 border border-red-600 text-red-200 px-4 py-3 rounded mb-4",children:o}),c&&e.jsx("div",{className:"bg-green-900/20 border border-green-600 text-green-200 px-4 py-3 rounded mb-4",children:c}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-200",children:"Username"}),e.jsx("input",{id:"username",type:"text",required:!0,value:r,onChange:s=>d(s.target.value),className:"fantasy-input mt-1",placeholder:"Choose a unique username"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Letters, numbers, and underscores only. 3+ characters."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:i,onChange:s=>u(s.target.value),className:"fantasy-input mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200",children:"Password"}),e.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:s=>x(s.target.value),className:"fantasy-input mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-200",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:l,onChange:s=>h(s.target.value),className:"fantasy-input mt-1"})]}),e.jsx("button",{type:"submit",className:"fantasy-button w-full",children:"Register"})]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-300",children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:"text-amber-400 hover:text-amber-300",children:"Return to your campaign"})]})]})})}export{P as default};
